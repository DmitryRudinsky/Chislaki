# Изменения в лабораторной работе 3.2 - Интерполяция Ньютона

## Что было изменено

Аналогично лабораторной работе 3.1, вместо выбора только **ближайших точек** к заданной точке x* = 0.413, теперь программа рассматривает **все возможные последовательные интервалы** для интерполяции методом Ньютона.

## Ключевые изменения

### 1. newton.js

Добавлены новые функции:

- **`getAllConsecutiveIntervals(xValues, yValues, degree)`** - генерирует все возможные последовательные интервалы для заданной степени многочлена
- **`isPointInInterval(xTarget, X)`** - проверяет, находится ли точка x* внутри данного интервала

Функция `run()` переписана для вывода всех интервалов с:
- Разделёнными разностями
- Значениями P(x*) для каждого интервала
- Оценкой погрешности для каждого интервала

### 2. graph.js

Полностью переписан для отображения всех интервалов:

- Создаётся отдельный график для каждого интервала
- **График строится только в пределах своего интервала** (не выходит за границы узлов)
- Интервалы, содержащие x*, выделяются зелёной рамкой и специальным бейджем
- Для каждого графика показываются:
  - Многочлен Ньютона **только на интервале своих узлов**
  - Все исходные точки (серые)
  - Узлы интерполяции (зелёные треугольники)
  - Точка x* (звезда)
  - Оценка погрешности
- Добавлена таблица сравнения всех результатов с погрешностями

### 3. index.html

Обновлены стили (идентично лабе 3.1):

- Добавлен класс `.interval-contains` для выделения интервалов, содержащих x*
- Добавлен класс `.badge-contains` для визуального маркера
- Добавлены заголовки секций `.section-title`
- Контент теперь генерируется динамически

## Результаты

### Многочлен 2-й степени (P₂)
- **Всего интервалов:** 7
- **Содержат x*:** 2 интервала

| Интервал | P₂(0.413) | Погрешность |
|----------|-----------|-------------|
| 4: [-0.16, 0.62] ✓ | 4.137985 | ≤ 7.662e-2 |
| 5: [0.23, 1.01] ✓ | 5.177347 | ≤ 9.543e-1 |

### Многочлен 3-й степени (P₃)
- **Всего интервалов:** 6
- **Содержат x*:** 3 интервала

| Интервал | P₃(0.413) | Погрешность |
|----------|-----------|-------------|
| 3: [-0.55, 0.62] ✓ | 3.532009 | ≤ 2.660e-1 |
| 4: [-0.16, 1.01] ✓ | 4.647006 | ≤ 1.367e-1 |
| 5: [0.23, 1.40] ✓ | 5.973281 | ≤ 3.273e-1 |

## Сравнение с методом Лагранжа

### Идентичность результатов

Для одинаковых наборов узлов методы **Ньютона** и **Лагранжа** дают **абсолютно идентичные** результаты:

**P₂ на интервале [-0.16, 0.62]:**
- Лагранж: 4.137985
- Ньютон: 4.137985 ✓

**P₃ на интервале [-0.16, 1.01]:**
- Лагранж: 4.647006
- Ньютон: 4.647006 ✓

Это подтверждает **корректность обеих реализаций**!

### Преимущества метода Ньютона

1. **Оценка погрешности:** 
   - Встроенная оценка через разделённые разности
   - Видно, что погрешность меньше для интервалов, содержащих x*

2. **Эффективность добавления узлов:**
   - При добавлении нового узла не нужно пересчитывать весь многочлен
   - Достаточно вычислить новый столбец разделённых разностей

3. **Численная устойчивость:**
   - Часто более стабилен при большом числе узлов
   - Меньше операций умножения больших чисел

## Визуализация

На графиках можно наблюдать:

1. **Различное поведение** интерполяционных многочленов в зависимости от выбранных узлов
2. **Эффект экстраполяции** - резкие скачки при выходе за пределы интервала
3. **Связь погрешности с положением точки:**
   - Для интервала 4 (P₂): погрешность ≤ 0.077 (x* внутри)
   - Для интервала 1 (P₂): погрешность ≤ 19.8 (x* вне интервала)
4. **Согласованность методов** - графики идентичны методу Лагранжа

## Анализ погрешностей

### Интервалы, содержащие x* (интерполяция)
- P₂: погрешности от 0.077 до 0.954
- P₃: погрешности от 0.137 до 0.327

### Интервалы, НЕ содержащие x* (экстраполяция)
- P₂: погрешности до 29.39
- P₃: погрешности до 12.81

**Вывод:** Интерполяция даёт погрешность на **2 порядка меньше**, чем экстраполяция!

## Запуск

```bash
cd /Users/gula-dmitrii/Chislacki/3lab/2
npm start
```

Или для просмотра в консоли:

```bash
node newton.js
```

