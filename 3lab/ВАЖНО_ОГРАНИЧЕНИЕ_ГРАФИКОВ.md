# Важное уточнение: Ограничение графиков интервалами

## Что изменилось

Раньше все графики строились на всём диапазоне данных (от -1.33 до 1.79), что приводило к:
- ❌ Демонстрации экстраполяции за пределами узлов
- ❌ Огромным осцилляциям за пределами интервала
- ❌ Вводящей в заблуждение визуализации

Теперь каждый график строится **только в пределах своего интервала**:
- ✅ График показывает только интерполяцию
- ✅ Никаких искусственных осцилляций
- ✅ Честное представление возможностей метода

## Пример

### Интервал 4: [-0.16, 0.62]

**Было:**
- График строился от -1.33 до 1.79
- Огромные осцилляции слева и справа
- Создавалось впечатление, что метод "плохой"

**Стало:**
- График строится только от -0.16 до 0.62
- Видна гладкая интерполяционная кривая
- Честная оценка качества интерполяции

## Технические детали

### Было (неправильно):
```javascript
const xMin = Math.min(...xs);  // -1.33
const xMax = Math.max(...xs);  // 1.79
const interpPoints = generateInterpolationPoints(coeffs, xMin, xMax, 200);
```

### Стало (правильно):
```javascript
const xMin = interval.X[0];                    // Первый узел интервала
const xMax = interval.X[interval.X.length - 1]; // Последний узел интервала
const interpPoints = generateInterpolationPoints(coeffs, xMin, xMax, 200);
```

## Почему это важно

### 1. Честность визуализации

Интерполяционные многочлены предназначены для **интерполяции**, а не экстраполяции. Показывать экстраполяцию на графике - значит показывать то, для чего метод не предназначен.

### 2. Понимание метода

Ограничивая график интервалом, мы показываем:
- Где метод работает хорошо (внутри интервала)
- Где его использовать можно (интерполяция)
- Где использовать опасно (за пределами - экстраполяция)

### 3. Корректное сравнение

При сравнении разных интервалов теперь видно:
- Как ведёт себя многочлен **на своих узлах**
- Насколько гладкая получается кривая
- Где точка x* = 0.413 относительно интервала

## Визуальное сравнение

### График для интервала [-0.16, 0.62]:
```
   5 │     ╱────╲        ✓ Содержит x* = 0.413
   4 │   ╱       ╲       ✓ Гладкая кривая
   3 │  ▲    ★    ▲      ✓ Интерполяция
     │ -0.16  0.41 0.62
     └───────────────────
```

### График для интервала [0.62, 1.40]:
```
-2 │   ╲                 ✗ НЕ содержит x*
-3 │    ╲                ✗ x* слева от интервала
-4 │     ╲               ⚠ Экстраполяция
-5 │      ▲    ▲         
   │     0.62  1.01 1.40
   └────────────────────
```

## Влияние на анализ

### Теперь можно честно увидеть:

1. **Качество интерполяции**
   - Насколько гладко проходит кривая через узлы
   - Есть ли нежелательные осцилляции между узлами

2. **Положение x***
   - Внутри интервала → надёжное значение
   - Вне интервала → нужна экстраполяция (опасно!)

3. **Выбор интервала**
   - Сразу видно, какой интервал лучше
   - Понятно, почему некоторые интервалы дают плохие результаты

## Заключение

Это изменение делает визуализацию:
- ✅ **Честнее** - показываем только то, что метод умеет
- ✅ **Понятнее** - ясно видно, где интерполяция, где экстраполяция
- ✅ **Полезнее** - легче выбрать подходящий интервал

Теперь графики показывают **реальные возможности** интерполяционных методов, а не артефакты экстраполяции!

